---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

const masterclasses = await getCollection('masterclasses');
---

<Layout
  title="Green Orbit Academy"
  description="Empowering the next generation of sustainable space leaders through expert-led training, practical tools, and interdisciplinary learning."
>
  <main class="main index-page">

    <!-- Page Title -->
    <div class="page-title" data-aos="fade">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1>Masterclasses</h1>
              <p class="mb-0">
                Our masterclass series provides immersive, high-impact learning experiences designed to help teams communicate science clearly, innovate with confidence, and build strategic alignment. Delivered by Green Orbit Academy, each masterclass blends practical exercises, expert facilitation, and real-world challenges to accelerate capability building across organisations.
              </p>
            </div>
          </div>
        </div>
      </div>

      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="/">Home</a></li>
            <li class="current">Masterclasses</li>
          </ol>
        </div>
      </nav>
    </div>

    <!-- masterclasses Section -->
    <section id="masterclasses" class="courses section">
      <div class="container">
        <div class="row">
          {masterclasses.map((masterclass, i) => (
            <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4" data-aos="zoom-in" data-aos-delay={100 + i*100}>
              <div class="course-item">
                <img src={masterclass.data.image ?? '/images/default-featured.jpg'} class="img-fluid" alt={masterclass.data.title} />
                <div class="course-content">
                  <div class="d-flex justify-content-between align-items-center mb-3">
                    <p class="category">{masterclass.data.category}</p>
                  </div>
                  <h3>
                    <a href={`/masterclasses/${masterclass.slug}`}>{masterclass.data.title}</a>
                  </h3>
                  <p class="description">{masterclass.data.description}</p>

                  {masterclass.data.instructor && (
                    <div class="trainer d-flex justify-content-between align-items-center">
                      <div class="trainer-profile d-flex align-items-center">
                        <img src={masterclass.data.instructor.avatar ?? '/images/default-featured.jpg'} class="img-fluid" alt={masterclass.data.instructor.name} />
                        <a href="../trainers" class="trainer-link">{masterclass.data.instructor.name}</a>
                      </div>
                    </div>
                  )}
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <div class="cta-box section-title" data-aos="fade-up">
      <h2>Get in touch</h2>
      <p>
        Explore how Green Orbit Academy can support your professional development or organisational capability building. Connect with us to discuss learning opportunities tailored to your needs.
      </p>
      <a href="contact" class="btn-getstarted"><strong>Contact Us</strong></a>
    </div>

  </main>
</Layout>